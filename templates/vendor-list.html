<!-- TODO: This page will show the list of available vendors. Initial display should be based on
    which vendor category the user click on the index.html
    There should be tabs to choose which category of vendors user want to see, each tabs will
    select one vendor's category from database to display on the page (the tabs doesn't link to
    different html page, it just display different list based on the category chosen)
-->

<!-- TODO: Each vendor's card will show only name, min to max price, location(state or zip, not the entire address),
    rating(optional), a button for booking, and a button (or just a link when the card is clicked) to portfolio.html.
-->

 <!-- TODO: Use bulma to design this page -->
{% extends 'layout.html' %}
{% block body %}
<div class="columns">
  <ul class="column vendor-menu auto">
    <li class="active"> <a href="#venues" class="getVendorByType" data-type="venues">Venues</a></li>
    <li> <a href="#photographers" class="getVendorByType" data-type="photographers">Photographers</a></li>
    <li> <a href="#videographers" class="getVendorByType" data-type="videographers">Videographers</a></li>
    <li> <a href="#caterers" class="getVendorByType" data-type="caterers">Caterers</a></li>
    <li> <a href="#music" class="getVendorByType" data-type="music">Music</a></li>
    <li> <a href="#cosmetics" class="getVendorByType" data-type="cosmetics">Cosmetics</a></li>
    <li> <a href="#tailors" class="getVendorByType" data-type="tailors">Tailors</a></li>
  </ul>
  <!-- AJAX loaded html will appear here  -->
  <div class="vendors column"></div>
</div>
{% endblock %}
{% block scripts %}
<script defer>
  var loc, tag;
  update_tag();
  $(window).on('popstate', e => {
    update_tag();
  })
  function update_tag(){
    loc = window.location.href.split('#');
    tag = loc.length > 1 ? loc[1] : '';
    if(tag != '' && !api_call_made){
      getVendorByType(tag);
    }
  }
</script>
{% endblock %}
