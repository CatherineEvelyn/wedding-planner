<!-- TODO: This page will show the list of available vendors. Initial display should be based on
    which vendor category the user click on the index.html
    There should be tabs to choose which category of vendors user want to see, each tabs will
    select one vendor's category from database to display on the page (the tabs doesn't link to
    different html page, it just display different list based on the category chosen)
-->

<!-- TODO: Each vendor's card will show only name, min to max price, location(state or zip, not the entire address),
    rating(optional), a button for booking, and a button (or just a link when the card is clicked) to portfolio.html.
-->

 <!-- TODO: Use bulma to design this page -->
{% extends 'layout.html' %}
{% block body %}
<hr>
<div id="vendor-list-nav" class='tabs is-centered is-medium'>
  <ul>
    <li> <a href="#venues" class="getVendorByType" data-type="venues">Venues</a></li>
    <li> <a href="#photographers" class="getVendorByType" data-type="photographers">Photographers</a></li>
    <li> <a href="#videographers" class="getVendorByType" data-type="videographers">Videographers</a></li>
    <li> <a href="#caterers" class="getVendorByType" data-type="caterers">Caterers</a></li>
    <li> <a href="#bands" class="getVendorByType" data-type="band">Band/DJ</a></li>
    <li> <a href="#hair" class="getVendorByType" data-type="hair">Hairstyle &amp; Make Up Artists</a></li>
    <li> <a href="#tailors" class="getVendorByType" data-type="tailors">Tailors</a></li>
  </ul>
</div>

<div class="columns is-mobile">
  <div class="column is-10 is-offset-1">

<!-- Changes title to displayed field -->
    <section class="hero is-light is-bold">
      <div class="hero-body">
        <div class="container">
          <h1 class="title">
            Venue
          </h1>
          <h2 class="subtitle">
            Location, Location, Location
          </h2>  
        </div>
      </div>
    </section>
    <br>

<!-- Not Necessary, just putting the option in there for a sort by function -->

    <div class="select">
      <select>
      <option>Sort by..</option>
      <option>Price</option>
      <option>Location</option>
      <option>Rating</option>
      </select>
    </div>
    <br>


 <!-- Hard code template to show vendor list. Will be populated dynamically with data from database -->

    <div class="card offset-1">
        <footer class="card-footer">
          <a href="#" class="card-footer-item">Ristorante Picolinos</a>
          <p class="card-footer-item">Seattle, Washington</p>
          <p class="card-footer-item has-text-weight-bold">$500-$750</p>
          <p class="card-footer-item">Rating(Star)</p>
          <a href="#" class="card-footer-item">Book</a>    
        </footer>
    </div>

    <br>

    <div class="card offset-1">
        <footer class="card-footer">
          <a href="#" class="card-footer-item">The Comfy Cove</a>
          <p class="card-footer-item">Vancouver, Washington</p>
          <p class="card-footer-item has-text-weight-bold">$5000-$7500</p>
          <p class="card-footer-item">Rating(Star)</p>
          <a href="#" class="card-footer-item">Book</a>    
        </footer>
    </div>

    <br>

    <div class="card offset-1">
        <footer class="card-footer">
          <a href="#" class="card-footer-item">Free Mason's Guild</a>
          <p class="card-footer-item">Tacoma, Washington</p>
          <p class="card-footer-item has-text-weight-bold">$50-$750</p>
          <p class="card-footer-item">Rating(Star)</p>
          <a href="#" class="card-footer-item">Book</a>    
        </footer>
    </div>
    
    <br>

    <div class="card offset-1">
        <footer class="card-footer">
          <a href="#" class="card-footer-item">The Angry Beaver</a>
          <p class="card-footer-item">Seattle, Washington</p>
          <p class="card-footer-item has-text-weight-bold">$100-$150</p>
          <p class="card-footer-item">Rating(Star)</p>
          <a href="#" class="card-footer-item">Book</a>    
        </footer>
    </div>

    <br>

    <div class="card offset-1">
        <footer class="card-footer">
          <a href="#" class="card-footer-item">Ristorante Picolinos</a>
          <p class="card-footer-item">Seattle, Washington</p>
          <p class="card-footer-item has-text-weight-bold">$500-$750</p>
          <p class="card-footer-item">Rating(Star)</p>
          <a href="#" class="card-footer-item">Book</a>    
        </footer>
    </div>



  </div>
</div>

{% endblock %}
{% block scripts %}
<script defer>
  var loc, tag;
  update_tag();
  $(window).on('popstate', e => {
    update_tag();
  })
  function update_tag(){
    loc = window.location.href.split('#');
    tag = loc.length > 1 ? loc[1] : '';
    if(tag != '' && !api_call_made){
      getVendorByType(tag);
    }
  }
</script>
{% endblock %}
